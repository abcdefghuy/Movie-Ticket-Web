<!DOCTYPE html>
<html layout:decorate="~{layout/admin-layout.html}"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
</head>
<body layout:fragment="content">
	<!-- main content -->
	<main class="container-fluid" >
		<div class="container-fluid">
			<div class="row">
				<!-- main title -->
				<div class="col-12">
					<div class="main__title">
						<h2>Reviews</h2>
						<span class="main__title-stat">Total Reviews:${noOfRecords}</span>
					</div>
				</div>
				<!-- reviews table -->
				<div class="col-12">
					<div class="catalog catalog--1">
						<div class="catalog__table-container">
							<!-- Bọc bảng trong thẻ này -->
							<table class="catalog__table">
								<thead>
									<tr>
										<th>ID</th>
										<th>Reviewer</th>
										<th>Rating</th>
										<th>Content</th>
									</tr>
								</thead>
								<tbody id="reviewTableBody"></tbody>
							</table>
						</div>
					</div>
				</div>
				<!-- end reviews table -->
				<!-- paginator -->
				<div class="col-12">
					<div class="main__paginator">
                    <span class="main__paginator-pages">Page <span id="currentPage">1</span> of <span
							id="noOfPages">1</span></span>
						<div class="col-1">
							<div class="sign__group">
								<label class="sign__label">Items Per Page</label>
								<form>
									<!-- Select số lượng bản ghi -->
									<select class="sign__select" name="soluong" id="soluong">
										<option value="5">5 items</option>
										<option value="10">10 items</option>
										<option value="20">20 items</option>
										<option value="50">50 items</option>
									</select>

									<input type="hidden" name="page" value="${currentPage}">
								</form>
							</div>
						</div>
						<ul class="main__paginator-list">
							<!-- Nút Previous -->
							<li class="paginator__item paginator__item--prev disabled" id="prevPage">
								<a href="javascript:void(0)">
									<i class="ti ti-chevron-left"></i>
								</a>
							</li>

							<!-- Hiển thị trang đầu nếu cần -->
							<li class="paginator__item" id="firstPage" style="display: none;">
								<a href="javascript:void(0)">1</a>
							</li>
							<li class="paginator__item" id="dotsBefore" style="display: none;">...</li>

							<!-- Các trang số động -->
							<div id="paginationNumbers" style="display: flex"></div>

							<!-- Hiển thị trang cuối nếu cần -->
							<li class="paginator__item" id="dotsAfter" style="display: none;">...</li>
							<li class="paginator__item" id="lastPage" style="display: none;"></li>

							<!-- Nút Next -->
							<li class="paginator__item paginator__item--next disabled" id="nextPage">
								<a href="javascript:void(0)">
									<i class="ti ti-chevron-right"></i>
								</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</main>
<script>
	function renderReviews(reviews) {
		let tbody = document.getElementById("reviewTableBody");
		tbody.innerHTML = ""; // Xóa nội dung cũ

		reviews.forEach(review => {
			let row = `
            <tr>
                <td><div class="catalog__text">${review.reviewID}</div></td>
                <td><div class="catalog__text">${review.person.fullName}</div></td>
                <td><div class="catalog__text catalog__text--rate">${review.evaluate}</div></td>
                <td><div class="catalog__text">${review.content}</div></td>
            </tr>`;
			tbody.insertAdjacentHTML("beforeend", row);
		});
	}
</script>
</body>
</html>